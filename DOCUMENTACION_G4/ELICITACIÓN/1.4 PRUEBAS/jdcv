Proceso Parqueadero

    Definir MAX Como Entero
    MAX <- 100

    Dimension placa[MAX], marca[MAX], color[MAX], entrada[MAX], salida[MAX], pagado[MAX]
    Definir cantidad, opcion, i Como Entero
    Definir buscada Como Cadena
    Definir total Como Real
    cantidad <- 1

    // Funci칩n para convertir HH:MM en minutos
    SubProceso convertirHoraMinutos(hora: Cadena) : Entero
        Definir partes, h, m Como Entero
        Dimension partes[2]
        Separar(hora, ":", partes)
        h <- ConvertirANumero(partes[0])
        m <- ConvertirANumero(partes[1])
        retornar h * 60 + m
    FinSubProceso

    Repetir
        Escribir ""
        Escribir "--- MEN칔 PARQUEADERO ---"
        Escribir "1. Registrar ingreso de veh칤culo"
        Escribir "2. Registrar salida de veh칤culo"
        Escribir "3. Mostrar todos los veh칤culos"
        Escribir "4. Buscar veh칤culo por placa"
        Escribir "5. Modificar datos de veh칤culo"
        Escribir "6. Finalizar d칤a y mostrar resumen"
        Escribir "7. Salir"
        Escribir "Opci칩n:"
        Leer opcion

        Segun opcion Hacer

            1:
                Si cantidad <= MAX Entonces
                    Escribir "Placa:"
                    Leer placa[cantidad]
                    Escribir "Marca:"
                    Leer marca[cantidad]
                    Escribir "Color:"
                    Leer color[cantidad]
                    Escribir "Hora entrada (hh:mm):"
                    Leer entrada[cantidad]
                    salida[cantidad] <- ""
                    pagado[cantidad] <- 0
                    Escribir "Veh칤culo registrado correctamente."
                    cantidad <- cantidad + 1
                Sino
                    Escribir "El parqueadero est치 lleno."
                FinSi

            2:
                Escribir "Placa del veh칤culo que sale:"
                Leer buscada
                Para i <- 1 Hasta cantidad - 1 Con Paso 1 Hacer
                    Si placa[i] = buscada Y pagado[i] = 0 Entonces
                        Escribir "Hora de salida (hh:mm):"
                        Leer salida[i]

                        Definir minEntrada, minSalida, duracion, horas, resto Como Entero
                        minEntrada <- convertirHoraMinutos(entrada[i])
                        minSalida <- convertirHoraMinutos(salida[i])
                        duracion <- minSalida - minEntrada

                        Si duracion <= 15 Entonces
                            pagado[i] <- 0
                        SinoSi duracion < 60 Entonces
                            pagado[i] <- 0.50
                        Sino
                            horas <- Trunc(duracion / 60)
                            resto <- duracion % 60
                            pagado[i] <- horas * 0.75
                            Si resto >= 30 Entonces
                                pagado[i] <- pagado[i] + 0.50
                            FinSi
                        FinSi

                        Escribir "Duraci칩n: ", duracion, " minutos"
                        Escribir "Total a pagar: $", pagado[i]
                    FinSi
                FinPara

            3:
                Escribir "--- LISTADO DE VEH칈CULOS ---"
                Para i <- 1 Hasta cantidad - 1 Con Paso 1 Hacer
                    Escribir "Placa: ", placa[i], " | Marca: ", marca[i], " | Color: ", color[i]
                    Escribir "Entrada: ", entrada[i], " | Salida: ", salida[i], " | Pagado: $", pagado[i]
                    Escribir ""
                FinPara

            4:
                Escribir "Buscar placa:"
                Leer buscada
                Para i <- 1 Hasta cantidad - 1 Con Paso 1 Hacer
                    Si placa[i] = buscada Entonces
                        Escribir "Placa: ", placa[i], " | Marca: ", marca[i], " | Color: ", color[i]
                        Escribir "Entrada: ", entrada[i], " | Salida: ", salida[i], " | Pagado: $", pagado[i]
                    FinSi
                FinPara

            5:
                Escribir "Modificar veh칤culo (por placa):"
                Leer buscada
                Para i <- 1 Hasta cantidad - 1 Con Paso 1 Hacer
                    Si placa[i] = buscada Entonces
                        Escribir "Nueva marca:"
                        Leer marca[i]
                        Escribir "Nuevo color:"
                        Leer color[i]
                        Escribir "Modificaci칩n realizada."
                    FinSi
                FinPara

            6:
                total <- 0
                Escribir "--- RESUMEN DEL D칈A ---"
                Para i <- 1 Hasta cantidad - 1 Con Paso 1 Hacer
                    Si pagado[i] > 0 Entonces
                        Escribir placa[i], ": $", pagado[i]
                        total <- total + pagado[i]
                    FinSi
                FinPara
                Escribir "TOTAL RECAUDADO: $", total

            7:
                Escribir "游녦 Sistema cerrado. 춰Hasta pronto!"

            De Otro Modo:
                Escribir "Opci칩n inv치lida. Intente de nuevo."

        FinSegun

    Hasta Que opcion = 7

FinProceso
